<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CrÃ´nicas do Nada Ver</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="theme-buttons-container">
    <button id="themeToggle" class="theme-toggle">ğŸŒ</button>
    <button id="reloadBtn" class="theme-toggle" onclick="location.reload()">ğŸ”„</button>
  </div>
  
  <div class="container">
    <!-- Card de Links Sociais -->
    <div class="card social-card">
      <img src="./images/cnv-img.png" alt="CrÃ´nicas do Nada Ver" />
      <h1>CrÃ´nicas do Nada Ver</h1>
      <h2 style="margin-bottom: 30px;">O que Ã© engraÃ§ado, Ã© o que nÃ£o faz sentido!!!</h2>
      <div class="sidebar">
        <ul>
          <li><a href="https://www.youtube.com/@CronicasdoNadaVer" target="_blank" class="button-link">YouTube</a></li>
          <li><a href="https://www.tiktok.com/@cronicasdonadaver" target="_blank" class="button-link">TikTok</a></li>
          <li><a href="https://www.instagram.com/cronicasdonadaver" target="_blank" class="button-link">Instagram</a></li>
        </ul>
      </div>
    </div>

    <!-- Card de MÃºsicas -->
    <div class="card music-card">
    <div class="tabs-container">
      <button class="tab-button active" onclick="changeTab('top10')">Top 10</button>
      <button class="tab-button" onclick="changeTab('novas')">Novas</button>
      <button class="tab-button" onclick="changeTab('todas')">Todas</button>
    </div>

    <h3 id="playlist-title">Top 10 MÃºsicas</h3>
    <div class="playlist"></div>

    <iframe id="musicPlayer" src="https://suno.com/embed/1717289c-3793-4b1e-b283-57d23e274628"></iframe>

    <div class="controls">
      <button class="button-link" onclick="previousSong()">â®</button>
      <button class="button-link" onclick="nextSong()">â­</button>
    </div>

    <!-- PaginaÃ§Ã£o -->
    <div class="pagination">
      <button id="prev-page" class="button-link" onclick="changePage(-1)">â—€ Anterior</button>
      <span id="page-info">PÃ¡gina 1 de 1</span>
      <button id="next-page" class="button-link" onclick="changePage(1)">PrÃ³xima â–¶</button>
    </div>
    </div>

    <script>
      // Listas de mÃºsicas por categoria
      const musicDatabase = {
        'top10': [
          "https://suno.com/embed/9a3cd9ef-bbc6-4a0b-80ad-7e21fd1e7217",
          "https://suno.com/embed/f3efb3ff-d999-4604-83c4-318fe97975b8",
          "https://suno.com/embed/1717289c-3793-4b1e-b283-57d23e274628",
          "https://suno.com/embed/8fbd2ee3-0bdf-4d89-9985-7e87342fa17b",
          "https://suno.com/embed/295b0222-e301-49e7-9b6c-8e288fc4a674",
          "https://suno.com/embed/4733e9b5-57d5-4e3a-90f9-1151827e8237",
          "https://suno.com/embed/dd712acc-e08f-40c8-a87c-487218890cb8",
          "https://suno.com/embed/58104e50-de45-4a7d-83d9-67e089757511",
          "https://suno.com/embed/154a5244-5d41-4513-a2b2-36573c74a909",
          "https://suno.com/embed/aa3be1b0-4639-41c3-b169-7fea446d09da",
        ],
        'novas': [
          "https://suno.com/embed/a8c4edec-8198-4435-b944-70e28969e4c4",
          "https://suno.com/embed/7c2a78f6-48ab-469f-9cf5-d7c38c188591",
          "https://suno.com/embed/ca5fbac1-e10f-407a-a2cf-6e0ee290b1ce",
          "https://suno.com/embed/9750a7ad-544e-44c8-b5d6-6e8e174d2622",
          "https://suno.com/embed/ce98f9d0-af2c-47ab-9dc8-425ce3678fe9",
          "https://suno.com/embed/98216740-a4b6-4fe9-91fd-3a8b9261a909",
          "https://suno.com/embed/224c126e-d898-42b5-b637-28a4cc9ffda3",
        ]
      };

      // Gera "todas" automaticamente combinando top10 e novas
      musicDatabase.todas = [...musicDatabase.top10, ...musicDatabase.novas];

      let currentCategory = 'top10';
      let currentPage = 0;
      let songsPerPage = 10;
      let songs = musicDatabase[currentCategory];
      let currentSongIndex = 0;

      // FunÃ§Ã£o para mudar de aba
      function changeTab(category) {
        currentCategory = category;
        currentPage = 0;
        songs = musicDatabase[category];
        
        // Atualiza tÃ­tulo
        const titles = {
          'top10': 'Top 10 MÃºsicas',
          'novas': 'MÃºsicas Novas',
          'todas': 'Todas as MÃºsicas'
        };
        document.getElementById('playlist-title').textContent = titles[category];
        
        // Atualiza botÃµes de aba
        document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
        
        // Renderiza a playlist
        renderPlaylist();
        
        // Toca a primeira mÃºsica da nova categoria
        currentSongIndex = 0;
        playSong(0);
      }

      // FunÃ§Ã£o para renderizar a playlist
      function renderPlaylist() {
        const playlistDiv = document.querySelector('.playlist');
        const startIndex = currentPage * songsPerPage;
        const endIndex = Math.min(startIndex + songsPerPage, songs.length);
        const currentPageSongs = songs.slice(startIndex, endIndex);
        const totalPages = Math.ceil(songs.length / songsPerPage);
        
        // Limpa playlist atual
        playlistDiv.innerHTML = '';
        
        // Adiciona botÃ£o de pÃ¡gina anterior se existir
        if (currentPage > 0) {
          const prevBtn = document.createElement('button');
          prevBtn.className = 'button-music nav-button';
          prevBtn.textContent = 'â—€';
          prevBtn.onclick = () => changePage(-1);
          playlistDiv.appendChild(prevBtn);
        }
        
        // Adiciona botÃµes de mÃºsica
        currentPageSongs.forEach((song, index) => {
          const button = document.createElement('button');
          button.className = 'button-music';
          button.textContent = startIndex + index + 1;
          button.onclick = () => playSong(startIndex + index);
          playlistDiv.appendChild(button);
        });
        
        // Adiciona botÃ£o de prÃ³xima pÃ¡gina se existir
        if (currentPage < totalPages - 1) {
          const nextBtn = document.createElement('button');
          nextBtn.className = 'button-music nav-button';
          nextBtn.textContent = 'â–¶';
          nextBtn.onclick = () => changePage(1);
          playlistDiv.appendChild(nextBtn);
        }
        
        // Esconde a paginaÃ§Ã£o separada
        document.querySelector('.pagination').style.display = 'none';
        
        updateActiveButton(currentSongIndex);
      }

      // FunÃ§Ã£o para atualizar paginaÃ§Ã£o (nÃ£o mais usada, mas mantida por compatibilidade)
      function updatePagination() {
        // PaginaÃ§Ã£o agora Ã© inline na playlist
      }

      // FunÃ§Ã£o para mudar de pÃ¡gina
      function changePage(direction) {
        const totalPages = Math.ceil(songs.length / songsPerPage);
        currentPage += direction;
        currentPage = Math.max(0, Math.min(currentPage, totalPages - 1));
        renderPlaylist();
      }

      // FunÃ§Ã£o para tocar uma mÃºsica especÃ­fica
      function playSong(index) {
        currentSongIndex = index;
        const player = document.getElementById("musicPlayer");
        player.src = songs[currentSongIndex];

        // Atualizar o botÃ£o ativo
        updateActiveButton(index);
      }

      function updateActiveButton(index) {
        const buttons = document.querySelectorAll(".playlist .button-music:not(.nav-button)");
        const startIndex = currentPage * songsPerPage;
        
        buttons.forEach((button, i) => {
          const absoluteIndex = startIndex + i;
          // Remove a imagem de todos os botÃµes
          button.innerHTML = absoluteIndex + 1;

          // Adiciona a classe "active" ao botÃ£o correspondente
          if (absoluteIndex === index) {
            button.classList.add("active");

            // Substitui o nÃºmero pela imagem no botÃ£o ativo
            const logo = document.createElement("img");
            logo.src = "./images/cnv-logo.png";
            button.innerHTML = "";
            button.appendChild(logo);
          } else {
            button.classList.remove("active");
          }
        });
      }

      // FunÃ§Ã£o para tocar a mÃºsica anterior
      function previousSong() {
        currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
        playSong(currentSongIndex);
      }

      // FunÃ§Ã£o para tocar a prÃ³xima mÃºsica
      function nextSong() {
        currentSongIndex = (currentSongIndex + 1) % songs.length;
        playSong(currentSongIndex);
      }

      // Inicializar a aplicaÃ§Ã£o
      renderPlaylist();
      updateActiveButton(0);

      // AlternÃ¢ncia de tema claro e escuro
      const themeToggle = document.getElementById("themeToggle");
      themeToggle.addEventListener("click", () => {
        document.body.classList.toggle("dark-theme");
        const isDarkTheme = document.body.classList.contains("dark-theme");
        themeToggle.textContent = isDarkTheme ? "ğŸŒ™" : "ğŸŒ";
      });
    </script>
  </div>
</body>

</html>